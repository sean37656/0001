<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ‹ä¸­å…¬æ°‘ (ç¿°æ—ç‰ˆ) ä¸‰ä¸Šäº”å–®å…ƒï¼šé‡é»ç­†è¨˜</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLMDJ8K22J6g8x+M5E1X+N5j/3N2N+sF0r3bQo+jM3Xv5I5n4M4q5S0+r/5+d6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }

        .section-header {
            border-left: 6px solid;
            padding-left: 1rem;
            margin-bottom: 1.5rem;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 650px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        /* Custom animation for dynamic content */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        
        /* --- Light Mode Defaults (Primary styles) --- */
        body {
            background-color: #f8fafc; /* Slate 50 */
            color: #1e293b; /* Slate 800 */
        }
        .bg-white { background-color: white; }
        .bg-slate-50 { background-color: #f8fafc; }
        .text-slate-800 { color: #1e293b; }
        .text-slate-600 { color: #475569; }
        .text-slate-500 { color: #64748b; }
        .border { border-color: #e2e8f0; }
        
        /* Highlight backgrounds */
        .bg-amber-100 { background-color: #fef3c7; }
        .bg-amber-50 { background-color: #fffbeb; }
        .bg-rose-50 { background-color: #fff1f2; }
        .bg-green-50 { background-color: #f0fdf4; }
        .text-amber-800 { color: #92400e; }
        .text-rose-700 { color: #be123c; }
        .text-green-700 { color: #047857; }
        .nav-links:hover { color: #2563eb; } /* Blue 600 */

        /* --- Dark Mode Overrides (Custom JS-driven rules) --- */
        body.dark {
            background-color: #111827; /* Gray 900 */
            color: #f9fafb; /* Gray 50 */
        }
        /* é€™çµ„è¦å‰‡æ˜¯é€ æˆè¡çªçš„ä¾†æºï¼Œä½†æˆ‘å€‘æš«æ™‚ä¿ç•™å®ƒï¼Œå› ç‚ºå…¶ä»–éå‹•æ…‹çš„ bg-white å…ƒç´ ä¾è³´å®ƒ */
        body.dark .bg-white, 
        body.dark .bg-slate-50,
        body.dark .bg-slate-100 {
            background-color: #1f2937; /* Gray 800 */
            border-color: #374151; /* Gray 700 */
        }
        body.dark .text-slate-800, body.dark .text-slate-900 {
            color: #f9fafb;
        }
        body.dark .text-slate-600, body.dark .text-slate-500 {
            color: #d1d5db; /* Gray 300 */
        }
        body.dark .border {
            border-color: #374151;
        }
        /* Dark Mode Highlights */
        body.dark .bg-amber-100 { 
            background-color: #451a03; 
            color: #fcd34d; /* Amber 300 */
            border-color: #fbbf24;
        }
        body.dark .bg-amber-50 {
            background-color: #2c1606;
            border-color: #fbbf24;
        }
        body.dark .bg-rose-50 { 
            background-color: #450a0a;
            border-color: #f87171;
        }
        body.dark .bg-green-50 { 
            background-color: #064e3b;
            border-color: #34d399;
        }
        body.dark .text-amber-800 { color: #fcd34d; }
        body.dark .text-rose-700 { color: #fca5a5; }
        body.dark .text-green-700 { color: #a7f3d0; }
        body.dark .nav-links { color: #d1d5db; }
        body.dark .nav-links:hover { color: #60a5fa; } /* Blue 400 */
        body.dark .text-blue-600 { color: #60a5fa; } /* Adjusting primary blue for better contrast */
        body.dark .border-blue-500 { border-color: #60a5fa; }
        body.dark .bg-blue-600 { background-color: #3b82f6; } /* Slightly lighter blue for hero */
    </style>
</head>
<body class="text-slate-800 bg-slate-50">

    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <span class="text-2xl text-blue-600 font-extrabold">ğŸ¦</span>
                <h1 class="text-lg md:text-xl font-black text-slate-800">åœ‹ä¸­å…¬æ°‘ (ç¿°æ—ç‰ˆ) ä¸‰ä¸Šäº”å–®å…ƒï¼šé‡é»ç­†è¨˜</h1>
            </div>
            
            <div class="flex items-center space-x-6">
                
                <div class="hidden md:flex space-x-6 text-sm font-medium">
                    <a href="#section-i" class="nav-links text-slate-600 hover:text-blue-600 transition">è²¨å¹£æœ¬è³ªèˆ‡é€šè†¨</a>
                    <a href="#section-ii" class="nav-links text-slate-600 hover:text-blue-600 transition">å¡‘è† è²¨å¹£é˜²å‘†</a>
                    <a href="#section-iii" class="nav-links text-slate-600 hover:text-blue-600 transition">åŒ¯ç‡æ¨¡æ“¬èˆ‡å£è¨£</a>
                </div>
                
                <!-- ç¤¾äº¤åª’é«”æŒ‰éˆ•å€åŸŸ (å·²ç¾åŒ–) -->
                <div class="flex space-x-3 ml-2">
                    
                    <!-- ğŸŸ¢ [é€£çµæ›´æ–°]ï¼šå·²æ›æˆæ‚¨çš„ IG é€£çµ -->
                    <a href="https://www.instagram.com/studynotes_tw" target="_blank" title="è¿½è¹¤æˆ‘çš„ Instagram" 
                       class="group flex items-center justify-center w-10 h-10 rounded-full bg-rose-50 text-rose-500 hover:bg-rose-500 hover:text-white transition-all duration-300 shadow-sm hover:shadow-md">
                        <i class="fa-brands fa-instagram text-xl group-hover:scale-110 transition-transform"></i>
                    </a>

                    <!-- ğŸŸ¢ [é€£çµæ›´æ–°]ï¼šå·²æ›æˆæ‚¨çš„ GitHub é€£çµ -->
                    <a href="https://github.com/sean37656" target="_blank" title="æˆ‘çš„ GitHub ä¸»é " 
                       class="group flex items-center justify-center w-10 h-10 rounded-full bg-slate-200 text-slate-700 hover:bg-slate-800 hover:text-white dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-white dark:hover:text-slate-900 transition-all duration-300 shadow-sm hover:shadow-md">
                        <i class="fa-brands fa-github text-xl group-hover:scale-110 transition-transform"></i>
                    </a>

                </div>
            </div>
            
        </div>
    </nav>

    <header class="bg-blue-600 text-white pt-16 pb-12 px-4 text-center">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-4xl md:text-5xl font-black mb-3">åœ‹ä¸­å…¬æ°‘ (ç¿°æ—ç‰ˆ) ä¸‰ä¸Šäº”å–®å…ƒï¼šé‡é»ç­†è¨˜</h1>
            <p class="text-blue-100 text-lg md:text-xl font-light">å®Œå…¨æ¶µè“‹è€ƒè©¦é™·é˜±ã€æ•¸æ“šåˆ†æèˆ‡æ ¸å¿ƒæ¦‚å¿µã€‚é€éäº’å‹•ï¼Œå°‡ç­†è¨˜è½‰åŒ–ç‚ºè¨˜æ†¶ï¼</p>
            
            <div class="mt-4 flex justify-center gap-3">
                <button id="toggle-dark" class="px-3 py-1 rounded bg-slate-800 text-white text-sm hover:bg-slate-700 transition">åˆ‡æ›æ·±è‰²æ¨¡å¼</button>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-12 space-y-16">

        <section id="section-i" class="scroll-mt-20">
            <div class="section-header border-blue-500">
                <h2 class="text-2xl md:text-3xl font-bold">I. è²¨å¹£çš„æœ¬è³ªèˆ‡åŠŸèƒ½</h2>
                <p class="text-slate-600 mt-1">å¾åŠŸèƒ½æ ¸å¿ƒå®šç¾©åˆ°æ³•å®šè²¨å¹£çš„åƒ¹å€¼ä¾†æºï¼Œè€ƒè©¦æœ€åŸºæœ¬çš„å¾—åˆ†é»ã€‚</p>
            </div>

            <div class="bg-white rounded-xl shadow-lg border overflow-hidden mb-8 overflow-x-auto">
                <table class="w-full text-left">
                    <thead class="bg-slate-50 text-slate-500 uppercase text-sm">
                        <tr>
                            <th class="px-6 py-3 w-1/4">åŠŸèƒ½æ ¸å¿ƒå®šç¾©</th>
                            <th class="px-6 py-3 w-1/4">é—œéµè© (é€Ÿè¨˜)ç¯„ä¾‹</th>
                            <th class="px-6 py-3 w-1/2">è€ƒè©¦é™·é˜± / è§€å¿µå¼·åŒ– (é»æ“Šè§€çœ‹)</th>
                        </tr>
                    </thead>
                    <tbody id="function-matrix-body">
                        <!-- JS Generated Content -->
                    </tbody>
                </table>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-6 rounded-xl shadow-md border h-full">
                    <h3 class="text-xl md:text-2xl font-bold text-amber-600 mb-4 flex items-center">
                        <span class="mr-2 text-3xl">ğŸš©</span> æ³•å®šè²¨å¹£èˆ‡é€šè†¨é™·é˜±
                    </h3>
                    <ul class="space-y-3 text-slate-700 text-base">
                        <li>
                            <span class="font-bold text-blue-600">ç™¼è¡Œæ©Ÿæ§‹ï¼š</span>æˆ‘åœ‹ç”±**ä¸­å¤®éŠ€è¡Œ**ç™¼è¡Œ (è€ƒè©¦å¸¸èª¤å°ç‚ºè²¡æ”¿éƒ¨æˆ–æ°‘é–“éŠ€è¡Œ)ã€‚
                        </li>
                        <li>
                            <span class="font-bold text-blue-600">åƒ¹å€¼ä¾†æºï¼š</span>æœ¬èº«**ç„¡åƒ¹å€¼** (åƒ…ç´™å¼µ)ï¼Œåƒ¹å€¼ç”±**æ³•å¾‹å¼·åˆ¶è³¦äºˆ**ã€‚å› æ­¤ï¼Œä¸èƒ½æ‹’æ”¶ã€‚
                        </li>
                        <li>
                            <span class="font-bold text-blue-600">è³¼è²·åŠ›ï¼š</span>è²¨å¹£çš„åƒ¹å€¼æ˜¯ç”±å…¶æ‰€èƒ½è³¼è²·çš„**å•†å“æ•¸é‡**æ±ºå®šã€‚
                        </li>
                        <li class="p-3 bg-rose-50 rounded-lg border border-rose-200">
                            <span class="font-bold text-rose-700">âš ï¸ é€šè†¨åˆ¤æ–·ï¼š</span>æ”¿åºœæ¿«ç™¼ â¡ï¸ è²¨å¹£æ•¸é‡éå¤š â¡ï¸ <span class="font-black">è²¨å¹£æŒçºŒè²¶å€¼ (éŒ¢è®Šè–„)</span> â¡ï¸ **ç‰©åƒ¹æŒçºŒä¸Šæ¼²** (æ¶è³¼ç‰©è³‡ã€å„²è“„æ„é¡˜é™ä½)ã€‚
                        </li>
                    </ul>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-md border">
                    <h3 class="text-xl font-semibold mb-3 text-center">é€šè†¨å‰å¾Œè³¼è²·åŠ›æ¨¡æ“¬</h3>
                    <div class="chart-container">
                        <canvas id="inflationChart"></canvas>
                    </div>
                    <p class="text-center text-sm text-slate-500 mt-2">
                        å‡è¨­ $100 å…ƒèƒ½è²· $10 å…ƒéºµåŒ…10å€‹ â¡ï¸ é€šè†¨å¾Œåªèƒ½è²·<ğŸ­ğŸ¬å€‹ (è³¼è²·åŠ›ä¸‹é™)ã€‚
                    </p>
                </div>
            </div>
        </section>

        <section id="section-ii" class="scroll-mt-20">
            <div class="section-header border-amber-500">
                <h2 class="text-2xl md:text-3xl font-bold">II. è²¨å¹£æ›¿ä»£å“ï¼šå¡‘è† è²¨å¹£èˆ‡é›»å­æ”¯ä»˜</h2>
                <p class="text-slate-600 mt-1">è€ƒè©¦å¿…è€ƒé™·é˜±ï¼šæ‰€æœ‰æ”¯ä»˜å·¥å…·çš„æœ¬è³ªï¼Œä»¥åŠå®ƒå€‘èˆ‡æ³•å®šè²¨å¹£çš„æ ¹æœ¬å€åˆ¥ã€‚</p>
            </div>

            <div class="bg-white rounded-xl shadow-lg border overflow-hidden">
                <div class="flex flex-col md:flex-row border-b border-slate-200 font-bold text-lg">
                    <button onclick="switchTab('credit')" id="btn-credit" class="flex-1 py-4 text-center text-blue-600 border-b-2 border-blue-500 transition">
                        ğŸ’³ ä¿¡ç”¨å¡ (å»¶å¾Œæ”¯ä»˜)
                    </button>
                    <button onclick="switchTab('stored')" id="btn-stored" class="flex-1 py-4 text-center text-slate-500 hover:bg-slate-50 transition">
                        ğŸšŒ å„²å€¼å¡ (é ä»˜åˆ¶åº¦)
                    </button>
                    <button onclick="switchTab('mobile')" id="btn-mobile" class="flex-1 py-4 text-center text-slate-500 hover:bg-slate-50 transition">
                        ğŸ“± è¡Œå‹•æ”¯ä»˜ (ä¾¿åˆ©ä»‹é¢)
                    </button>
                </div>
                
                <div class="p-8">
                    <div class="bg-amber-100 p-4 rounded-lg border border-amber-300 mb-6 font-bold text-center animate-fade-in">
                        ğŸ“¢ æ ¸å¿ƒè§€å¿µï¼šé€™ä¸‰è€…**çš†é**æ³•å®šè²¨å¹£ï¼å®ƒå€‘åƒ…æ˜¯æ”¯ä»˜å·¥å…·ï¼Œæœ€çµ‚ä»éœ€ä»¥æ–°è‡ºå¹£çµç®—ã€‚
                    </div>

                    <div id="content-credit" class="block animate-fade-in space-y-4">
                        <h3 class="text-xl font-bold text-blue-600">æœ¬è³ªï¼šå…ˆäº«å—ï¼Œå¾Œä»˜æ¬¾ (å»¶å¾Œæ”¯ä»˜)</h3>
                        <p class="text-slate-700">éŠ€è¡Œå…ˆä»£å¢Šæ¬¾é …ï¼Œæ¶ˆè²»è€…éœ€åœ¨æŒ‡å®šæ—¥æœŸé‚„æ¬¾ã€‚å…·å‚™å‚µå‹™æ¸…å„ŸåŠŸèƒ½ã€‚</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="p-4 bg-rose-50 rounded-lg border border-rose-200">
                                <h4 class="font-bold text-rose-700">ä¸»è¦é¢¨éšª / é™·é˜±</h4>
                                <p class="text-sm">å¡å¥´ã€è¶…é¡æ¶ˆè²»ã€æœªæŒ‰æ™‚é‚„æ¬¾å°‡å½±éŸ¿**å€‹äººä¿¡ç”¨ç´€éŒ„**ã€‚</p>
                            </div>
                            <div class="p-4 bg-slate-50 rounded-lg border border-slate-200">
                                <h4 class="font-bold text-slate-700">æ³•è¦é™åˆ¶ (å­¸ç”Ÿå¿…è€ƒ)</h4>
                                <p class="text-sm">æ­£å¡é ˆæ»¿ 20 æ­²ï¼›å­¸ç”Ÿç¸½é¡åº¦ä¸å¾—è¶…éğŸ®è¬å…ƒã€‚</p>
                            </div>
                        </div>
                    </div>

                    <div id="content-stored" class="hidden animate-fade-in space-y-4">
                        <h3 class="text-xl font-bold text-emerald-600">æœ¬è³ªï¼šå…ˆå„²å€¼ï¼Œå¾Œæ¶ˆè²» (é ä»˜åˆ¶åº¦)</h3>
                        <p class="text-slate-700">å¦‚æ‚ éŠå¡ã€ç¦®åˆ¸ã€‚é å…ˆå­˜å…¥åƒ¹å€¼ï¼Œæ¶ˆè²»æ™‚å¾ä¸­æ‰£é™¤ã€‚</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="p-4 bg-rose-50 rounded-lg border border-rose-200">
                                <h4 class="font-bold text-rose-700">ä¸»è¦é¢¨éšª / é™·é˜±</h4>
                                <p class="text-sm">éºå¤±é‡‘é¡æå¤±ï¼›æ¥­è€…å€’é–‰æ™‚ï¼Œå„²å€¼é‡‘å¯èƒ½ç„¡æ³•å…¨é¡å–å›ã€‚</p>
                            </div>
                            <div class="p-4 bg-slate-50 rounded-lg border border-slate-200">
                                <h4 class="font-bold text-slate-700">æ³•è¦ä¿éšœ (é‡é»)</h4>
                                <p class="text-sm">é ä»˜å‹å¡ç‰‡ (å¦‚ç¦®åˆ¸) ä¸»è¦å—**ã€Šæ¶ˆè²»è€…ä¿è­·æ³•ã€‹**çš„ä¿éšœã€‚</p>
                            </div>
                        </div>
                    </div>

                    <div id="content-mobile" class="hidden animate-fade-in space-y-4">
                        <h3 class="text-xl font-bold text-purple-600">æœ¬è³ªï¼šä¾¿åˆ©ä»‹é¢</h3>
                        <p class="text-slate-700">å¦‚ LINE Pay, Apple Payã€‚å®ƒåªæ˜¯å°‡éŠ€è¡Œå¸³æˆ¶æˆ–ä¿¡ç”¨å¡ã€Œç¶å®šã€çš„ä¾¿åˆ©æ“ä½œä»‹é¢ã€‚</p>
                        <div class="p-4 bg-slate-100 rounded-lg border border-slate-300">
                            <h4 class="font-bold text-slate-700">æ ¸å¿ƒè§€å¿µ</h4>
                            <p class="text-sm">äº¤æ˜“çš„æœ¬è³ªä¸¦æœªæ”¹è®Šï¼Œå®ƒä¾è³´èƒŒå¾Œç¶å®šçš„ä¿¡ç”¨å¡æˆ–å„²å€¼å¡çš„æ©Ÿåˆ¶ã€‚</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="section-iii" class="scroll-mt-20">
            <div class="section-header border-rose-500">
                <h2 class="text-2xl md:text-3xl font-bold">III. åœ‹éš›è²¿æ˜“èˆ‡åŒ¯ç‡è®Šå‹•æ±ºç­–æ¨¡æ“¬</h2>
                <p class="text-slate-600 mt-1">åŒ¯ç‡è®ŠåŒ–æ˜¯å¿…è€ƒçš„ç¶œåˆåˆ¤æ–·é¡Œã€‚é€éæ¨¡æ“¬ï¼ŒæŒæ¡å‡å€¼è²¶å€¼å°é€²å‡ºå£å•†çš„å½±éŸ¿ã€‚</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-1 space-y-6">
                    <div class="bg-white p-6 rounded-xl shadow-md border">
                        <h3 class="font-bold text-xl mb-4 text-rose-600">ğŸ“‰ åŒ¯ç‡æ¨¡æ“¬æ§åˆ¶ (1 USD = NTD)</h3>
                        <p class="text-sm text-slate-500 mb-2">
                            ç•¶å‰åŒ¯ç‡ï¼š1 ç¾é‡‘ æ› <span id="rate-display" class="font-black text-3xl text-blue-600">30</span> è‡ºå¹£
                        </p>
                        
                        <input type="range" id="rate-slider" min="25" max="35" value="30" step="1" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer mb-4">
                        
                        <div class="flex justify-between text-sm font-bold">
                            <span class="text-blue-500">25 (æ•¸å­—å°)</span>
                            <span class="text-rose-500">35 (æ•¸å­—å¤§)</span>
                        </div>

                        <div class="mt-4 p-4 rounded-xl text-center transition-colors duration-300 border" id="status-box">
                            <h4 class="text-xl font-black" id="status-text">åŸºæº–é»</h4>
                            <p class="text-sm mt-1" id="status-slogan"></p>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-md border">
                        <h3 class="font-black text-xl mb-2 text-rose-600">å£è¨£é€Ÿè¨˜ (å¿…èƒŒ)</h3>
                        <p class="text-lg font-bold leading-relaxed text-slate-700 mb-2">
                            <span class="text-blue-600">æ•¸å­— â¬‡ï¸</span>  <span class="bg-blue-100 px-1 rounded">è‡ºå¹£å‡å€¼ ğŸ†™</span>  **åˆ©**æ–¼é€²å£
                        </p>
                        <p class="text-lg font-bold leading-relaxed text-slate-700">
                            <span class="text-rose-600">æ•¸å­— ğŸ†™</span>  <span class="bg-rose-100 px-1 rounded">è‡ºå¹£è²¶å€¼ â¬‡ï¸</span>  **åˆ©**æ–¼å‡ºå£
                        </p>
                    </div>
                </div>

                <div class="lg:col-span-2 space-y-6">
                    <div class="bg-white p-4 rounded-xl shadow-md border">
                        <h3 class="text-xl font-semibold mb-3 text-center">NTD/USD åŒ¯ç‡èµ°å‹¢æ¨¡æ“¬</h3>
                        <div class="chart-container">
                            <canvas id="exchangeChart"></canvas>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-md border overflow-hidden overflow-x-auto">
                        <table class="w-full text-sm text-left">
                            <thead class="text-xs text-slate-500 uppercase bg-slate-50">
                                <tr>
                                    <th class="px-6 py-3 w-1/4">äº¤æ˜“è§’è‰²</th>
                                    <th class="px-6 py-3 w-1/4">è‡ºå¹£ç‹€æ…‹</th>
                                    <th class="px-6 py-3 w-1/4">å½±éŸ¿åˆ©å¼Š</th>
                                    <th class="px-6 py-3 w-1/4">æ ¸å¿ƒåˆ¤æ–·</th>
                                </tr>
                            </thead>
                            <tbody id="impact-body">
                                <!-- JS Generated Content -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <section id="cb-trap" class="scroll-mt-20">
            <div class="section-header border-green-500">
                <h2 class="text-2xl md:text-3xl font-bold">ä¸­å¤®éŠ€è¡Œè·è²¬æ’é™¤é™·é˜±</h2>
                <p class="text-slate-600 mt-1">å“ªäº›æ˜¯å¤®è¡Œçš„è²¬ä»»ï¼Ÿå“ªäº›ä¸æ˜¯ï¼Ÿ</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-green-50 p-6 rounded-xl border">
                    <h3 class="font-bold text-xl text-green-700 flex items-center mb-3">
                        <span class="mr-2 text-2xl">âœ…</span> å¤®è¡Œè·è²¬ (æ˜¯)
                    </h3>
                    <ul class="space-y-2 text-sm text-green-800">
                        <li class="flex items-start">
                            <span class="mr-2 text-lg">ğŸ’°</span> ç©©å®šæˆ‘åœ‹ç‰©åƒ¹
                        </li>
                        <li class="flex items-start">
                            <span class="mr-2 text-lg">ğŸ–¨ï¸</span> æ§åˆ¶æ–°è‡ºå¹£ç™¼è¡Œé‡
                        </li>
                        <li class="flex items-start">
                            <span class="mr-2 text-lg">ğŸ“ˆ</span> æ³¨æ„å¤–åŒ¯å¸‚å ´è®Šå‹• (éç›´æ¥å¹²é )
                        </li>
                    </ul>
                </div>
                <div class="bg-rose-50 p-6 rounded-xl border">
                    <h3 class="font-bold text-xl text-rose-700 flex items-center mb-3">
                        <span class="mr-2 text-2xl">âŒ</span> è€ƒè©¦é™·é˜± (é)
                    </h3>
                    <ul class="space-y-2 text-sm text-rose-800">
                        <li class="flex items-start">
                            <span class="mr-2 text-lg">ğŸ‡ºğŸ‡¸</span> <span class="font-bold">ç¶­æŒç¾é‡‘å¹£å€¼çš„ç©©å®š</span> (ä¸»è¦è² è²¬æœ¬åœ‹è²¨å¹£ï¼Œå°ä»–åœ‹è²¨å¹£ç„¡ç›´æ¥è·æ¬Š)
                        </li>
                        <li class="flex items-start">
                            <span class="mr-2 text-lg">ğŸ‘¨â€âš–ï¸</span> åˆ¶å®šã€Šæ¶ˆè²»è€…ä¿è­·æ³•ã€‹
                        </li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-slate-300 py-8 text-center mt-12">
        <p class="text-sm">ç‰ˆæ¬Šæ‰€æœ‰ &copy; Studynotes_tw</p>
        <p class="text-xs mt-2 text-slate-500">ç¥ è€ƒè©¦é †åˆ©ï¼</p>
    </footer>

    <script>
        
        const coreData = {
            functions: [
                { keyword: "è²·è³£æ™‚ä½œç‚ºä¸­é–“äºº", func: "äº¤æ˜“åª’ä»‹", example: "è²·åƒè€ƒæ›¸ä»˜ $300 å…ƒ", trap: "è€ƒè©¦é™·é˜±ï¼šèˆ‡ã€åƒ¹å€¼è¡¡é‡ã€å€åˆ†ã€‚äº¤æ˜“åª’ä»‹è‘—é‡åœ¨**äº¤æ›è¡Œç‚º**æœ¬èº«ã€‚" },
                { keyword: "æ¨™ç¤ºå•†å“åƒ¹æ ¼", func: "åƒ¹å€¼è¡¡é‡", example: "ä¸€æœ¬æ›¸å®šåƒ¹ $300 å…ƒ", trap: "è€ƒè©¦é™·é˜±ï¼šè‘—é‡åœ¨**è¨ˆåƒ¹å–®ä½**ï¼Œç”¨ä¾†**æ¯”è¼ƒ**å•†å“è²´æˆ–ä¾¿å®œã€‚" },
                { keyword: "ä¿å­˜è²¡å¯Œï¼Œå»¶å¾Œæ¶ˆè²»", func: "åƒ¹å€¼å„²è—", example: "å°‡è–ªæ°´å­˜å…¥éŠ€è¡Œ", trap: "è€ƒè©¦é™·é˜±ï¼šå„²å­˜è³¼è²·åŠ›ï¼Œå„²è“„ã€é»ƒé‡‘ã€ä¸å‹•ç”¢ç­‰ä¹Ÿå…·å‚™æ­¤åŠŸèƒ½ã€‚" },
                { keyword: "å„Ÿé‚„å‚µå‹™æˆ–ç¹³ç¨…", func: "å‚µå‹™æ¸…å„Ÿ", example: "ç¹³äº¤ä¿¡ç”¨å¡è²»", trap: "è€ƒè©¦é™·é˜±ï¼šè‘—é‡åœ¨**æœªä¾†æ”¯ä»˜æ‰¿è«¾**çš„å±¥è¡Œï¼Œå¦‚é‚„æ¬¾æˆ–ç¹³ç¨…ã€‚" }
            ]
        };

        let exchangeChartInstance = null;
        let inflationChartInstance = null;
        
        // --- Core Functions: Function Matrix ---

        function initFunctionMatrix() {
            const body = document.getElementById('function-matrix-body');
            let html = '';
            
            coreData.functions.forEach((item, index) => {
                html += `
                    <tr class="border-b transition hover:bg-slate-100 dark:hover:bg-gray-700">
                        <td class="px-6 py-3 font-medium text-blue-700 dark:text-blue-400">${item.func}</td>
                        <!-- ğŸŸ¢ [å­—é«”ä¿®æ­£]ï¼šå°‡ text-slate-700 æ”¹ç‚º text-slate-800ï¼Œä½¿å…¶åœ¨æ·ºè‰²æ¨¡å¼æ›´æ·±ã€æ›´æ˜“è®€ -->
                        <td class="px-6 py-3 text-slate-800 dark:text-gray-300">${item.keyword} / <span class="font-mono">${item.example}</span></td>
                        <td class="px-6 py-3">
                            <button class="text-amber-600 dark:text-amber-400 font-bold text-sm bg-amber-100 dark:bg-amber-800 dark:hover:bg-amber-700 px-3 py-1 rounded-full hover:bg-amber-200 transition" 
                                onclick="toggleTrap(this, ${index})">
                                é»æˆ‘çœ‹é™·é˜± ğŸ’¡
                            </button>
                            <div id="trap-content-${index}" class="hidden mt-2 p-2 bg-amber-50 dark:bg-amber-900 dark:text-amber-300 rounded-lg text-amber-800 text-sm animate-fade-in">${item.trap}</div>
                        </td>
                    </tr>
                `;
            });
            body.innerHTML = html;
        }

        function toggleTrap(button, index) {
            const content = document.getElementById(`trap-content-${index}`);
            const isHidden = content.classList.contains('hidden');
            
            content.classList.toggle('hidden');
            
            if (isHidden) {
                button.innerText = 'æ”¶èµ·é™·é˜± ğŸ§ ';
                button.classList.remove('bg-amber-100', 'dark:bg-amber-800');
                button.classList.add('bg-amber-200', 'dark:bg-amber-700');
            } else {
                button.innerText = 'é»æˆ‘çœ‹é™·é˜± ğŸ’¡';
                button.classList.remove('bg-amber-200', 'dark:bg-amber-700');
                button.classList.add('bg-amber-100', 'dark:bg-amber-800');
            }
        }

        // --- Core Functions: Plastic Money Tabs ---
        function switchTab(type) {
            const tabs = {
                credit: { btn: 'btn-credit', content: 'content-credit', color: 'blue' },
                stored: { btn: 'btn-stored', content: 'content-stored', color: 'emerald' },
                mobile: { btn: 'btn-mobile', content: 'content-mobile', color: 'purple' }
            };

            for (const key in tabs) {
                const isSelected = key === type;
                const tab = tabs[key];
                const btn = document.getElementById(tab.btn);
                const content = document.getElementById(tab.content);

                // Dynamically handle tab styling for both light and dark mode
                const baseClasses = "flex-1 py-4 text-center transition";
                const activeClasses = `text-${tab.color}-600 border-b-2 border-${tab.color}-500 dark:text-${tab.color}-400 dark:border-${tab.color}-400`;
                const inactiveClasses = "text-slate-500 hover:bg-slate-50 dark:text-gray-400 dark:hover:bg-gray-700";

                btn.className = isSelected 
                    ? `${baseClasses} ${activeClasses}`
                    : `${baseClasses} ${inactiveClasses}`;
                
                if (isSelected) {
                    content.classList.remove('hidden');
                } else {
                    content.classList.add('hidden');
                }
            }
        }

        // --- Core Functions: Exchange Rate Simulator ---
        const slider = document.getElementById('rate-slider');
        const rateDisplay = document.getElementById('rate-display');
        const statusBox = document.getElementById('status-box');
        const statusText = document.getElementById('status-text');
        const statusSlogan = document.getElementById('status-slogan');
        const impactBody = document.getElementById('impact-body');
        
        function updateSimulation(val) {
            const rate = parseInt(val);
            rateDisplay.innerText = rate;

            let status, colorClass, slogan, ntStatus, ntColor;
            
            if (rate < 30) {
                status = "è‡ºå¹£å‡å€¼ (Appreciation) â¬†ï¸";
                colorClass = "bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900 dark:text-blue-300 dark:border-blue-700";
                slogan = "åŒ¯ç‡æ•¸å­— â¬‡ï¸ è‡ºå¹£æˆ°é¬¥åŠ› ğŸ†™";
                ntStatus = "å‡å€¼ â¬†ï¸";
                ntColor = "bg-blue-500 text-white dark:bg-blue-400 dark:text-black";
            } else if (rate > 30) {
                status = "è‡ºå¹£è²¶å€¼ (Depreciation) â¬‡ï¸";
                colorClass = "bg-rose-100 text-rose-800 border-rose-300 dark:bg-rose-900 dark:text-rose-300 dark:border-rose-700";
                slogan = "åŒ¯ç‡æ•¸å­— ğŸ†™ è‡ºå¹£æˆ°é¬¥åŠ› â¬‡ï¸";
                ntStatus = "è²¶å€¼ â¬‡ï¸";
                ntColor = "bg-rose-500 text-white dark:bg-rose-400 dark:text-black";
            } else {
                status = "åŸºæº–é» (Base) â†”ï¸";
                colorClass = "bg-slate-100 text-slate-800 border-slate-300 dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600";
                slogan = "è«‹æ‹–å‹•æ»‘æ¡¿ï¼Œè§€å¯Ÿå½±éŸ¿ï¼";
                ntStatus = "ç©©å®š â†”ï¸";
                ntColor = "bg-slate-500 text-white dark:bg-gray-500 dark:text-white";
            }

            statusBox.className = `mt-4 p-4 rounded-xl text-center transition-colors duration-300 border ${colorClass}`;
            statusText.innerText = status;
            statusSlogan.innerText = slogan;

            updateImpactTable(rate, ntStatus, ntColor);
            updateExchangeChartData(rate);
        }

        function updateImpactTable(rate, ntStatus, ntColor) {
            let html = '';
            
            const createRow = (role, effect, reason, isGood) => {
                const bg = isGood ? 'bg-green-50 dark:bg-green-900' : 'bg-rose-50 dark:bg-rose-900';
                const text = isGood ? 'text-green-700 dark:text-green-300 font-bold' : 'text-rose-700 dark:text-rose-300 font-bold';
                const icon = isGood ? 'ğŸ˜Š åˆ©ï¼' : 'ğŸ˜­ å¼Šï¼';
                
                // ğŸŸ¢ [è§£æ±ºæ–¹æ¡ˆ]ï¼šæ˜ç¢ºç‚º <td> åŠ ä¸Š bg-white å’Œ dark:bg-gray-800ï¼Œ
                // é€™æ¨£å®ƒå€‘å°±ä¸å†ä¾è³´å¤–éƒ¨çš„ CSS è¦å‰‡ï¼Œ
                // ç¢ºä¿ 'dark:text-gray-50' (ç™½å­—) æ°¸é æœƒæ­é… 'dark:bg-gray-800' (æ·±è‰²èƒŒæ™¯)ã€‚
                
                return `
                    <tr class="border-b transition hover:bg-slate-100 dark:hover:bg-gray-700">
                        <td class="px-6 py-3 font-medium text-slate-900 bg-white dark:bg-gray-800 dark:text-gray-50">${role}</td>
                        <td class="px-6 py-3 text-center bg-white dark:bg-gray-800"><span class="px-3 py-1 rounded text-sm font-bold ${ntColor}">${ntStatus}</span></td>
                        <td class="px-6 py-3 ${bg} ${text}">${icon}</td>
                        <td class="px-6 py-3 text-slate-600 bg-white dark:bg-gray-800 dark:text-gray-300 text-sm">${reason}</td>
                    </tr>
                `;
            };

            if (rate < 30) { // Appreciation: åˆ©é€²å£, å¼Šå‡ºå£
                html += createRow('é€²å£å•† (è²·å¤–åœ‹è²¨)', 'é€²å£æˆæœ¬é™ä½', 'è‡ºå¹£è®Šå¼·ï¼Œè²·ç¾é‡‘è®Šä¾¿å®œã€‚', true);
                html += createRow('å‡ºå£å•† (è³£å¤–åœ‹è²¨)', 'æ›å›è‡ºå¹£è®Šå°‘', 'è³ºçš„ç¾é‡‘æ›å›ä¾†çš„è‡ºå¹£ç¸®æ°´äº†ã€‚', false);
                html += createRow('å‡ºåœ‹æ—…éŠçš„äºº', 'æ—…éŠåˆ’ç®—', 'è‡ºå¹£è®Šå¼·ï¼Œç”¨å°‘å°‘çš„éŒ¢æ›åˆ°å¤šå¤šçš„å¤–å¹£ã€‚', true);
            } else if (rate > 30) { // Depreciation: å¼Šé€²å£, åˆ©å‡ºå£
                html += createRow('å‡ºå£å•† (è³£å¤–åœ‹è²¨)', 'æ›å›è‡ºå¹£è®Šå¤š', 'è³ºçš„ç¾é‡‘æ›å›æ›´å¤šè‡ºå¹£ï¼Œåˆ©æ½¤å¢åŠ ã€‚', true);
                html += createRow('é€²å£å•† (è²·å¤–åœ‹è²¨)', 'é€²å£æˆæœ¬æé«˜', 'è‡ºå¹£è®Šå¼±ï¼Œè²·ç¾é‡‘è¦èŠ±æ›´å¤šéŒ¢ã€‚', false);
                html += createRow('å‡ºåœ‹æ—…éŠçš„äºº', 'æ—…è²»è®Šè²´', 'è‡ºå¹£è®Šå¼±ï¼Œæ›å¤–å¹£ä¸åˆ’ç®—ã€‚', false);
            } else {
                 // ğŸŸ¢ [è§£æ±ºæ–¹æ¡ˆ]ï¼šåŒæ¨£ç‚ºåŸºæº–é»çš„ <td> åŠ ä¸ŠèƒŒæ™¯
                 html = `<tr><td colspan="4" class="px-6 py-8 text-center text-slate-500 dark:text-gray-400 font-medium bg-white dark:bg-gray-800">åŒ¯ç‡ç©©å®šåœ¨ 30ã€‚è«‹æ‹–å‹•ä¸Šæ–¹æ»‘æ¡¿ä¾†æ¨¡æ“¬è®Šå‹•ã€‚</td></tr>`;
            }

            impactBody.innerHTML = html;
        }

        // --- Core Functions: Chart.js Setup ---
        
        function getChartColors() {
            const isDark = document.body.classList.contains('dark');
            return {
                base: isDark ? '#f3f4f6' : '#1e293b',
                grid: isDark ? '#374151' : '#e2e8f0',
                blue: isDark ? '#60a5fa' : '#3b82f6',
                red: isDark ? '#fca5a5' : '#ef4444'
            };
        }

        function initCharts() {
            const colors = getChartColors();
            // Inflation Chart (Horizontal Bar for comparison)
            const ctxInflation = document.getElementById('inflationChart').getContext('2d');
            inflationChartInstance = new Chart(ctxInflation, {
                type: 'bar',
                data: {
                    labels: ['é€šè†¨å‰', 'é€šè†¨å¾Œ'],
                    datasets: [{
                        label: '100å…ƒè³¼è²·åŠ› (å–®ä½: éºµåŒ…æ•¸é‡)',
                        data: [10, 5],
                        backgroundColor: [colors.blue, colors.red],
                        borderRadius: 5,
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            min: 0,
                            max: 12,
                            title: { display: true, text: 'å¯è³¼è²·çš„éºµåŒ…æ•¸é‡ (å‡è¨­å€¼)', color: colors.base },
                            ticks: { color: colors.base },
                            grid: { color: colors.grid }
                        },
                        y: {
                            ticks: { color: colors.base },
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        title: { display: false },
                        tooltip: {
                            callbacks: {
                                title: (context) => context[0].label,
                                label: (context) => `è³¼è²·åŠ›: ${context.raw} å€‹éºµåŒ…`
                            }
                        }
                    }
                }
            });

            // Exchange Rate Chart (Line Chart)
            const ctxExchange = document.getElementById('exchangeChart').getContext('2d');
            exchangeChartInstance = new Chart(ctxExchange, {
                type: 'line',
                data: {
                    labels: ['éå» 4 å€‹æœˆ', 'ä¸Šå€‹æœˆ', 'æœ¬æœˆ', 'æ¨¡æ“¬å€¼'],
                    datasets: [{
                        label: 'åŒ¯ç‡èµ°å‹¢ (ç¾é‡‘:è‡ºå¹£)',
                        data: [30, 30, 30, 30],
                        borderColor: colors.blue,
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        borderWidth: 3,
                        tension: 0.3,
                        fill: true,
                        pointRadius: 5,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            min: 24,
                            max: 36,
                            grid: { color: colors.grid },
                            title: { display: true, text: 'NTD', color: colors.base },
                            ticks: { color: colors.base }
                        },
                        x: {
                            ticks: { color: colors.base },
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: (context) => `1 USD = ${context.raw} NTD`
                            }
                        }
                    }
                }
            });
        }

        function updateExchangeChartData(currentRate) {
            const colors = getChartColors();
            const base = 30;
            const diff = currentRate - base;
            
            const newData = [
                base, 
                base + (diff * 0.2), 
                base + (diff * 0.5), 
                currentRate
            ];

            exchangeChartInstance.data.datasets[0].data = newData;
            
            if (currentRate < 30) {
                // Appreciation (Blue theme for Stronger NTD)
                exchangeChartInstance.data.datasets[0].borderColor = colors.blue;
                exchangeChartInstance.data.datasets[0].backgroundColor = 'rgba(96, 165, 250, 0.1)';
            } else if (currentRate > 30) {
                // Depreciation (Rose theme for Weaker NTD)
                exchangeChartInstance.data.datasets[0].borderColor = colors.red;
                exchangeChartInstance.data.datasets[0].backgroundColor = 'rgba(244, 63, 94, 0.1)';
            } else {
                exchangeChartInstance.data.datasets[0].borderColor = colors.blue;
                exchangeChartInstance.data.datasets[0].backgroundColor = 'rgba(59, 130, 246, 0.1)';
            }

            exchangeChartInstance.update();
        }

        function updateChartTheme() {
            const colors = getChartColors();
            
            // Update Inflation Chart
            if (inflationChartInstance) {
                inflationChartInstance.options.scales.x.title.color = colors.base;
                inflationChartInstance.options.scales.x.ticks.color = colors.base;
                inflationChartInstance.options.scales.x.grid.color = colors.grid;
                inflationChartInstance.options.scales.y.ticks.color = colors.base;
                inflationChartInstance.data.datasets[0].backgroundColor = [colors.blue, colors.red];
                inflationChartInstance.update();
            }

            // Update Exchange Chart
            if (exchangeChartInstance) {
                exchangeChartInstance.options.scales.y.title.color = colors.base;
                exchangeChartInstance.options.scales.y.ticks.color = colors.base;
                exchangeChartInstance.options.scales.y.grid.color = colors.grid;
                exchangeChartInstance.options.scales.x.ticks.color = colors.base;
                // Update the data points based on the current rate to refresh colors
                updateExchangeChartData(parseInt(slider.value)); 
            }
        }

        // --- Dark Mode Logic ---
        function applyTheme(isDark) {
            const button = document.getElementById('toggle-dark');
            if (isDark) {
                document.body.classList.add('dark');
                localStorage.setItem('theme', 'dark');
                button.innerText = 'åˆ‡æ›æ·ºè‰²æ¨¡å¼';
            } else {
                document.body.classList.remove('dark');
                localStorage.setItem('theme', 'light');
                button.innerText = 'åˆ‡æ›æ·±è‰²æ¨¡å¼';
            }
            // Re-render charts to apply new colors
            if (exchangeChartInstance || inflationChartInstance) updateChartTheme();
        }

        function toggleDarkMode() {
            const isDark = document.body.classList.contains('dark');
            applyTheme(!isDark);
        }

        // Event Listeners and Init
        window.onload = function() {
            // Apply theme from localStorage or system preference
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            // Initialize theme correctly first
            const initialDark = (savedTheme === 'dark' || (!savedTheme && prefersDark));
            applyTheme(initialDark); 

            // Init core functionality
            initFunctionMatrix();
            initCharts();
            updateSimulation(30); 
            switchTab('credit');

            // Set up event listeners
            slider.addEventListener('input', (e) => updateSimulation(e.target.value));
            document.getElementById('toggle-dark').addEventListener('click', toggleDarkMode);
        };
    </script>
</body>
</html>
